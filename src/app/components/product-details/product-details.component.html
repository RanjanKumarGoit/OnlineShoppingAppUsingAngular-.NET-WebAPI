<div *ngIf="!loading; else loadingProducts" class="py-10 w-[90%] m-auto">
    <div class="flex flex-col justify-between lg:flex-row gap-16 lg:items-center">
        <div class="flex flex-col gap-6 lg:w-2/4">
            <div class="h-[600px] w-full overflow-hidden">
                <img [src]="displayedImage" alt="First Image" class="product-image h-full rounded-lg object-cover">
            </div>

            <div class="flex gap-3">
                <div *ngFor="let image of productData.images">
                    <img src={{image.url}} alt="" class="" (click)="onImageClick(image.url)">
                </div>
            </div>
        </div>

        <div class="flex flex-col gap-4 lg:w-2/4">
            <div>
                <span class="text-violet-600 font-semibold">Special Offer</span>
                <h1 class="text-3xl font-bold">{{ productData.title }}</h1>
            </div>
            <p class="text-gray-700">{{ productData.description }}</p>
            <h6 class="text-2xl font-semibold">Rs.{{ productData.price.toFixed(2) }}</h6>
            <div class="mt-3 flex gap-3">
                <span
                    class="inline-flex items-center rounded-md bg-yellow-50 px-2 py-1 text-lg font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20">{{productData.category}}</span>
                <span
                    class="inline-flex items-center rounded-md bg-green-50 px-2 py-1 text-lg font-medium text-green-700 ring-1 ring-inset ring-green-600/20">{{productData.brand}}</span>
            </div>
            <div class="flex items-center">
                <div class="flex items-center mt-2.5 mb-5">
                    <p
                        class="inline-flex items-center rounded-md bg-pink-50 px-2 py-1 text-lg font-medium text-pink-700 ring-1 ring-inset ring-pink-700/10 my-3">
                        {{productData.rating}} out of 5</p>
                </div>
            </div>
            <button (click)="addToCart(productData)" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded">
                Add to Cart
            </button>
        </div>
    </div>

</div>

<ng-template #loadingProducts>
    <p>Loading products...</p>
</ng-template>